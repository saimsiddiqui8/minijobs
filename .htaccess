RewriteEngine On
RewriteBase /

RewriteRule ^in-(.*)$ /minijob-$1 [R=301,L]

# Serve "in-{city}.html" when "minijob-{city}" is requested (without redirection)
RewriteRule ^minijob-(.*)$ /in-$1.html [L]

# Redirect /redirect/{encoded-url} to /redirect.html?url={encoded-url}
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^redirect/(.*)$ /redirect.html?url=$1 [L,QSA]

# âœ… Serve "job-detail.html" for "job-detail/{slug}" URLs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^job-detail/[^/]+$ /job-detail.html [L,QSA]

# Redirect any request to /minijob-* to /city/minijob-* (only if not already in /city/)
RewriteCond %{REQUEST_URI} ^/minijob-(.*)$
RewriteRule ^minijob-(.*)$ /city/minijob-$1 [R=301,L]

# Check if the requested file exists as .html
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]

# Custom 404 Error Page
ErrorDocument 404 /404.html